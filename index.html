<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>申论批改助手</title>
    <!-- 引入 Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- 引入 Font Awesome 图标 -->
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
    
    <!-- Tailwind 配置 -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#165DFF',
                        secondary: '#6B7280',
                        accent: '#34D399',
                        warning: '#F59E0B',
                        danger: '#EF4444',
                    },
                    fontFamily: {
                        sans: ['Inter', 'system-ui', 'sans-serif'],
                    },
                }
            }
        }
    </script>
    
    <!-- 自定义工具类 -->
    <style type="text/tailwindcss">
        @layer utilities {
            .content-auto {
                content-visibility: auto;
            }
            .text-shadow {
                text-shadow: 0 2px 4px rgba(0,0,0,0.1);
            }
            .transition-custom {
                transition: all 0.3s ease;
            }
            .mobile-input-height {
                height: 180px !important; /* 移动端文本框高度 */
            }
            .mobile-btn-size {
                padding: 12px 20px !important;
                font-size: 16px !important;
            }
        }
    </style>
</head>
<body class="bg-gray-50 font-sans text-gray-800 min-h-screen">
    <!-- 顶部导航栏 -->
    <header class="bg-white shadow-sm sticky top-0 z-50 transition-all duration-300" id="navbar">
        <div class="container mx-auto px-3 py-3 flex justify-between items-center">
            <div class="flex items-center space-x-2">
                <i class="fa fa-check-circle text-primary text-2xl"></i>
                <h1 class="text-lg md:text-xl font-bold text-gray-800">申论批改助手</h1>
            </div>
            <nav class="hidden md:flex items-center space-x-6">
                <a href="#" class="text-gray-600 hover:text-primary transition-custom">首页</a>
                <a href="#" class="text-gray-600 hover:text-primary transition-custom">批改示例</a>
                <a href="#" class="text-gray-600 hover:text-primary transition-custom">使用指南</a>
                <a href="#" class="text-gray-600 hover:text-primary transition-custom">关于我们</a>
                <button class="bg-primary hover:bg-primary/90 text-white px-4 py-2 rounded-lg transition-custom">
                    登录/注册
                </button>
            </nav>
            <button class="md:hidden text-gray-600" id="mobile-menu-button">
                <i class="fa fa-bars text-xl"></i>
            </button>
        </div>
        
        <!-- 移动端菜单 -->
        <div class="md:hidden hidden bg-white shadow-md absolute w-full" id="mobile-menu">
            <div class="container mx-auto px-3 py-3 flex flex-col space-y-3">
                <a href="#" class="text-gray-600 hover:text-primary py-2 transition-custom">首页</a>
                <a href="#" class="text-gray-600 hover:text-primary py-2 transition-custom">批改示例</a>
                <a href="#" class="text-gray-600 hover:text-primary py-2 transition-custom">使用指南</a>
                <a href="#" class="text-gray-600 hover:text-primary py-2 transition-custom">关于我们</a>
                <button class="bg-primary hover:bg-primary/90 text-white px-4 py-2 rounded-lg transition-custom w-full">
                    登录/注册
                </button>
            </div>
        </div>
    </header>

    <!-- 主内容区 -->
    <main class="container mx-auto px-3 py-6">
        <!-- 页面标题 -->
        <div class="text-center mb-8 max-w-3xl mx-auto">
            <h2 class="text-[clamp(1.2rem,5vw,2rem)] font-bold text-gray-800 mb-3">
                智能申论批改，助力公考上岸
            </h2>
            <p class="text-gray-600 text-base md:text-lg">
                只需输入您的申论文章，AI将为您提供专业批改和提升建议
            </p>
        </div>

        <!-- 批改区域 -->
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 max-w-6xl mx-auto">
            <!-- 输入区域 -->
            <div class="bg-white rounded-xl shadow-lg p-5 transition-custom hover:shadow-xl">
                <div class="flex items-center mb-3">
                    <i class="fa fa-pencil text-primary mr-2"></i>
                    <h3 class="text-lg md:text-xl font-semibold">输入您的申论文章</h3>
                </div>
                <div class="mb-3">
                    <label for="essay-input" class="block text-sm font-medium text-gray-700 mb-2">文章内容</label>
                    <textarea 
                        id="essay-input" 
                        class="w-full h-64 md:h-80 mobile-input-height p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary transition-custom resize-none text-base"
                        placeholder="请在此输入您的申论文章..."
                    ></textarea>
                </div>
                <div class="flex justify-between items-center">
                    <div class="text-sm text-gray-500">
                        <span id="word-count">0</span> 字
                    </div>
                    <button 
                        id="submit-button" 
                        class="bg-primary hover:bg-primary/90 text-white px-5 py-2.5 rounded-lg transition-custom flex items-center mobile-btn-size"
                    >
                        <i class="fa fa-check mr-2"></i>
                        提交批改
                    </button>
                </div>
            </div>

            <!-- 结果区域 -->
            <div class="bg-white rounded-xl shadow-lg p-5 transition-custom hover:shadow-xl">
                <div class="flex items-center mb-3">
                    <i class="fa fa-comment-o text-primary mr-2"></i>
                    <h3 class="text-lg md:text-xl font-semibold">批改结果</h3>
                </div>
                <div id="result-container" class="min-h-64 md:min-h-80 mobile-input-height flex items-center justify-center">
                    <div class="text-center text-gray-500 px-3">
                        <i class="fa fa-file-text-o text-4xl mb-3 opacity-50"></i>
                        <p class="text-base">提交文章后，批改结果将显示在这里</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- 特色功能 -->
        <div class="mt-10 max-w-6xl mx-auto">
            <h3 class="text-xl md:text-2xl font-bold text-center mb-6">为什么选择我们</h3>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                <div class="bg-white p-4 rounded-xl shadow-md transition-custom hover:shadow-lg hover:-translate-y-1">
                    <div class="text-primary text-2xl mb-3">
                        <i class="fa fa-bolt"></i>
                    </div>
                    <h4 class="text-lg font-semibold mb-2">快速批改</h4>
                    <p class="text-gray-600 text-sm">
                        提交后立即获得批改结果，无需等待，高效备考
                    </p>
                </div>
                <div class="bg-white p-4 rounded-xl shadow-md transition-custom hover:shadow-lg hover:-translate-y-1">
                    <div class="text-primary text-2xl mb-3">
                        <i class="fa fa-line-chart"></i>
                    </div>
                    <h4 class="text-lg font-semibold mb-2">详细分析</h4>
                    <p class="text-gray-600 text-sm">
                        从结构、内容、语言等多维度分析文章，提供具体改进建议
                    </p>
                </div>
                <div class="bg-white p-4 rounded-xl shadow-md transition-custom hover:shadow-lg hover:-translate-y-1">
                    <div class="text-primary text-2xl mb-3">
                        <i class="fa fa-graduation-cap"></i>
                    </div>
                    <h4 class="text-lg font-semibold mb-2">专业指导</h4>
                    <p class="text-gray-600 text-sm">
                        基于公考评分标准，提供符合考试要求的专业指导
                    </p>
                </div>
            </div>
        </div>
    </main>

    <!-- 页脚 -->
    <footer class="bg-gray-800 text-white mt-10">
        <div class="container mx-auto px-3 py-8">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-6">
                <div>
                    <div class="flex items-center space-x-2 mb-3">
                        <i class="fa fa-check-circle text-primary text-xl"></i>
                        <h3 class="text-lg font-bold">申论批改助手</h3>
                    </div>
                    <p class="text-gray-400 text-sm">
                        智能批改，专业指导，助您成功上岸
                    </p>
                </div>
                <div>
                    <h4 class="text-base font-semibold mb-3">快速链接</h4>
                    <ul class="space-y-2 text-gray-400 text-sm">
                        <li><a href="#" class="hover:text-primary transition-custom">首页</a></li>
                        <li><a href="#" class="hover:text-primary transition-custom">批改示例</a></li>
                        <li><a href="#" class="hover:text-primary transition-custom">使用指南</a></li>
                        <li><a href="#" class="hover:text-primary transition-custom">关于我们</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="text-base font-semibold mb-3">联系我们</h4>
                    <ul class="space-y-2 text-gray-400 text-sm">
                        <li class="flex items-center">
                            <i class="fa fa-envelope mr-2"></i>
                            <a href="mailto:support@example.com">support@example.com</a>
                        </li>
                        <li class="flex items-center">
                            <i class="fa fa-phone mr-2"></i>
                            <a href="tel:123456789">123-456-789</a>
                        </li>
                    </ul>
                </div>
                <div>
                    <h4 class="text-base font-semibold mb-3">关注我们</h4>
                    <div class="flex space-x-3">
                        <a href="#" class="bg-gray-700 hover:bg-primary text-white w-9 h-9 rounded-full flex items-center justify-center transition-custom">
                            <i class="fa fa-weixin"></i>
                        </a>
                        <a href="#" class="bg-gray-700 hover:bg-primary text-white w-9 h-9 rounded-full flex items-center justify-center transition-custom">
                            <i class="fa fa-weibo"></i>
                        </a>
                        <a href="#" class="bg-gray-700 hover:bg-primary text-white w-9 h-9 rounded-full flex items-center justify-center transition-custom">
                            <i class="fa fa-qq"></i>
                        </a>
                    </div>
                </div>
            </div>
            <div class="border-t border-gray-700 mt-6 pt-6 text-center text-gray-400 text-sm">
                <p>&copy; 2023 申论批改助手. 保留所有权利.</p>
            </div>
        </div>
    </footer>

    <!-- 加载动画模态框 -->
    <div id="loading-modal" class="fixed inset-0 bg-black/50 flex items-center justify-center z-50 hidden">
        <div class="bg-white rounded-lg p-6 max-w-md w-[90%]">
            <div class="text-center">
                <div class="inline-block animate-spin rounded-full h-12 w-12 border-t-4 border-primary border-solid"></div>
                <h3 class="text-lg font-semibold mt-3 mb-2">正在批改中</h3>
                <p class="text-gray-600 text-sm">AI正在分析您的文章，请稍候...</p>
            </div>
        </div>
    </div>

    <!-- JavaScript -->
    <script>
        // DOM 元素
        const navbar = document.getElementById('navbar');
        const mobileMenuButton = document.getElementById('mobile-menu-button');
        const mobileMenu = document.getElementById('mobile-menu');
        const essayInput = document.getElementById('essay-input');
        const wordCount = document.getElementById('word-count');
        const submitButton = document.getElementById('submit-button');
        const resultContainer = document.getElementById('result-container');
        const loadingModal = document.getElementById('loading-modal');

        // 监听滚动事件，改变导航栏样式
        window.addEventListener('scroll', () => {
            if (window.scrollY > 10) {
                navbar.classList.add('py-2', 'shadow');
                navbar.classList.remove('py-3');
            } else {
                navbar.classList.add('py-3');
                navbar.classList.remove('py-2', 'shadow');
            }
        });

        // 移动端菜单切换
        mobileMenuButton.addEventListener('click', () => {
            mobileMenu.classList.toggle('hidden');
        });

        // 监听文本输入，计算字数
        essayInput.addEventListener('input', () => {
            const text = essayInput.value.trim();
            const count = text.length;
            wordCount.textContent = count;
        });

        // 提交按钮点击事件
        submitButton.addEventListener('click', () => {
            const text = essayInput.value.trim();
            
            // 验证输入
            if (text === '') {
                showToast('请输入申论文章内容', 'warning');
                return;
            }
            
            if (text.length < 300) {
                showToast('文章内容过短，请至少输入300字', 'warning');
                return;
            }
            
            // 显示加载动画
            loadingModal.classList.remove('hidden');
            
            // 模拟API请求延迟
            setTimeout(() => {
                // 生成模拟批改结果
                const result = generateMockResult(text);
                
                // 显示结果
                displayResult(result);
                
                // 隐藏加载动画
                loadingModal.classList.add('hidden');
                
                // 滚动到结果区域（移动端优化：避免滚动过远）
                if (window.innerWidth < 1024) {
                    resultContainer.scrollIntoView({ behavior: 'smooth', block: 'start' });
                }
            }, 2000);
        });

        // 生成模拟批改结果
        function generateMockResult(text) {
            // 随机评分 (60-90分)
            const score = Math.floor(Math.random() * 30) + 60;
            
            // 随机生成评价
            const evaluations = [
                "文章结构完整，论点明确，论证较为充分，但部分语句表达不够准确。",
                "文章主题鲜明，条理清晰，有一定的分析深度，但论据略显单薄。",
                "文章观点明确，结构合理，语言流畅，但缺乏创新性观点。",
                "文章内容充实，论证有力，语言表达准确，但结构可以进一步优化。",
                "文章立意深刻，论证充分，语言精炼，是一篇优秀的申论文章。"
            ];
            const evaluation = evaluations[Math.floor(Math.random() * evaluations.length)];
            
            // 随机生成建议
            const suggestions = [
                "建议加强论据的多样性，适当引用名人名言或具体案例。",
                "注意语言表达的准确性和规范性，避免口语化表达。",
                "可以增加对问题的分析深度，提出更具针对性的对策。",
                "建议优化文章结构，使段落之间的逻辑关系更加清晰。",
                "加强对材料的理解和运用，使文章更贴合题目要求。"
            ];
            const suggestion = suggestions[Math.floor(Math.random() * suggestions.length)];
            
            // 随机生成优缺点
            const strengths = [
                "论点明确，中心突出",
                "结构完整，条理清晰",
                "语言流畅，表达准确",
                "分析深入，见解独到",
                "论据充分，论证有力"
            ];
            const weaknesses = [
                "部分语句表达不够准确",
                "论据略显单薄",
                "缺乏创新性观点",
                "结构可以进一步优化",
                "对材料的运用不够充分"
            ];
            
            // 随机选择2-3个优缺点
            const selectedStrengths = strengths
                .sort(() => 0.5 - Math.random())
                .slice(0, Math.floor(Math.random() * 2) + 2);
                
            const selectedWeaknesses = weaknesses
                .sort(() => 0.5 - Math.random())
                .slice(0, Math.floor(Math.random() * 2) + 2);
            
            return {
                score,
                evaluation,
                suggestion,
                strengths: selectedStrengths,
                weaknesses: selectedWeaknesses
            };
        }

        // 显示批改结果
        function displayResult(result) {
            // 构建结果HTML（移动端优化字体和间距）
            const resultHTML = `
                <div class="space-y-4 animate-fade-in">
                    <!-- 总分 -->
                    <div class="bg-primary/10 rounded-lg p-3 text-center">
                        <span class="text-3xl font-bold text-primary">${result.score}</span>
                        <span class="text-gray-600 ml-2">分</span>
                    </div>
                    
                    <!-- 总体评价 -->
                    <div>
                        <h4 class="text-base md:text-lg font-semibold mb-2 flex items-center">
                            <i class="fa fa-comment text-primary mr-2"></i>
                            总体评价
                        </h4>
                        <p class="text-gray-700 leading-relaxed text-sm md:text-base">${result.evaluation}</p>
                    </div>
                    
                    <!-- 优缺点分析 -->
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-3">
                        <!-- 优点 -->
                        <div>
                            <h4 class="text-base font-semibold mb-2 flex items-center">
                                <i class="fa fa-plus-circle text-accent mr-2"></i>
                                优点
                            </h4>
                            <ul class="list-disc list-inside text-gray-700 space-y-1 text-sm">
                                ${result.strengths.map(strength => `<li>${strength}</li>`).join('')}
                            </ul>
                        </div>
                        
                        <!-- 缺点 -->
                        <div>
                            <h4 class="text-base font-semibold mb-2 flex items-center">
                                <i class="fa fa-minus-circle text-danger mr-2"></i>
                                改进点
                            </h4>
                            <ul class="list-disc list-inside text-gray-700 space-y-1 text-sm">
                                ${result.weaknesses.map(weakness => `<li>${weakness}</li>`).join('')}
                            </ul>
                        </div>
                    </div>
                    
                    <!-- 提升建议 -->
                    <div>
                        <h4 class="text-base font-semibold mb-2 flex items-center">
                            <i class="fa fa-lightbulb-o text-warning mr-2"></i>
                            提升建议
                        </h4>
                        <p class="text-gray-700 leading-relaxed text-sm md:text-base">${result.suggestion}</p>
                    </div>
                    
                    <!-- 操作按钮 -->
                    <div class="flex justify-center space-x-3 pt-3 border-t border-gray-200">
                        <button class="bg-gray-200 hover:bg-gray-300 text-gray-700 px-3 py-2 rounded-lg transition-custom text-sm">
                            <i class="fa fa-print mr-1"></i>
                            打印结果
                        </button>
                        <button class="bg-primary hover:bg-primary/90 text-white px-3 py-2 rounded-lg transition-custom text-sm">
                            <i class="fa fa-refresh mr-1"></i>
                            再次批改
                        </button>
                    </div>
                </div>
            `;
            
            // 更新结果容器
            resultContainer.innerHTML = resultHTML;
            
            // 为"再次批改"按钮添加事件
            const retryButton = resultContainer.querySelector('button:last-child');
            retryButton.addEventListener('click', () => {
                essayInput.focus();
                // 移动端滚动到输入框
                if (window.innerWidth < 1024) {
                    essayInput.scrollIntoView({ behavior: 'smooth', block: 'start' });
                } else {
                    window.scrollTo({ top: 0, behavior: 'smooth' });
                }
            });
        }

        // 显示提示框（移动端优化尺寸）
        function showToast(message, type = 'info') {
            // 创建toast元素
            const toast = document.createElement('div');
            
            // 设置样式和内容
            let bgColor, icon;
            switch(type) {
                case 'warning':
                    bgColor = 'bg-warning';
                    icon = 'fa-exclamation-triangle';
                    break;
                case 'error':
                    bgColor = 'bg-danger';
                    icon = 'fa-times-circle';
                    break;
                default:
                    bgColor = 'bg-primary';
                    icon = 'fa-info-circle';
            }
            
            toast.className = `${bgColor} text-white px-3 py-2 rounded-lg shadow-lg fixed top-4 right-4 z-50 transform transition-all duration-300 translate-x-full max-w-[80%]`;
            toast.innerHTML = `
                <div class="flex items-center">
                    <i class="fa ${icon} mr-2 text-sm"></i>
                    <span class="text-sm">${message}</span>
                </div>
            `;
            
            // 添加到文档
            document.body.appendChild(toast);
            
            // 显示toast
            setTimeout(() => {
                toast.classList.remove('translate-x-full');
            }, 10);
            
            // 3秒后隐藏
            setTimeout(() => {
                toast.classList.add('translate-x-full');
                // 移除元素
                setTimeout(() => {
                    document.body.removeChild(toast);
                }, 300);
            }, 3000);
        }

        // 添加自定义动画
        document.head.insertAdjacentHTML('beforeend', `
            <style>
                @keyframes fadeIn {
                    from { opacity: 0; transform: translateY(10px); }
                    to { opacity: 1; transform: translateY(0); }
                }
                .animate-fade-in {
                    animation: fadeIn 0.5s ease forwards;
                }
                /* 禁止移动端缩放，优化体验 */
                html {
                    touch-action: manipulation;
                }
            </style>
        `);
    </script>
</body>
</html>